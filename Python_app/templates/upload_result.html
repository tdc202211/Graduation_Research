{% extends "base.html" %}

{% block title %}Upload Result{% endblock %}

{% block content %}
<div class="card">
  <h1>アップロード完了</h1>

  <div class="result">
    <p><strong>ファイル名:</strong> {{ payload.fileName }}</p>
    <p><strong>File ID:</strong> {{ payload.fileId }}</p>

    {% if conflict %}
      <p>
        既に存在していたファイル（ID: {{ conflict.id }}）の新しいバージョンとして保存されました。
      </p>
    {% endif %}

    <hr>

    <p><strong>ファイルの SHA-256 ハッシュ:</strong></p>
    <pre class="hash">{{ payload.fileHash }}</pre>

    {% if saved_path %}
      <p class="muted"><strong>Saved JSON:</strong> {{ saved_path }}</p>
    {% endif %}
    {% if save_error %}
      <p class="error"><strong>JSON Save Error:</strong> {{ save_error }}</p>
    {% endif %}
  </div>

  <div class="actions">
    <a class="btn primary" href="{{ url_for('upload') }}">別のファイルをアップロード</a>
    <a class="btn" href="{{ url_for('index') }}">Home に戻る</a>
  </div>
</div>
{% endblock %}
